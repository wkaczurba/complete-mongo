<head>
</head>
<body>
    <button>Click!</button>
    Click count: 
    <p>
    </p>

    <script>
        function startGame() {
            let counter = 0;
            console.log('game is starting.')
            document.querySelector('p').innerText = '';

            document.querySelector('button').addEventListener('click',
                () => {
                    ++counter;
                    document.querySelector('p').innerText = counter;
                }
            );

            return new Promise( (resolve, reject) => {
                setTimeout(() => {
                    if (counter > 5) {
                        resolve();
                    } else {
                        reject();
                    }
                }, 2000);
            });
        }

        startGame()
            .then( () => alert('You won'))
            .catch( () => alert('You lost'));
    </script>
</body>